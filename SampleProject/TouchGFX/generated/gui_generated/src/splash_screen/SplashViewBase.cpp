/*********************************************************************************/
/********** THIS FILE IS GENERATED BY TOUCHGFX DESIGNER, DO NOT MODIFY ***********/
/*********************************************************************************/
#include <gui_generated/splash_screen/SplashViewBase.hpp>
#include <touchgfx/Color.hpp>
#include "BitmapDatabase.hpp"

SplashViewBase::SplashViewBase() :
    showSplashCounter(0)
{

    __background.setPosition(0, 0, 800, 480);
    __background.setColor(touchgfx::Color::getColorFrom24BitRGB(0, 0, 0));

    SplashImg.setXY(0, 0);
    SplashImg.setBitmap(touchgfx::Bitmap(BITMAP_SAMPLESPLASH_ID));

    add(__background);
    add(SplashImg);
}

void SplashViewBase::setupScreen()
{

}

//Handles delays
void SplashViewBase::handleTickEvent()
{
    if(showSplashCounter > 0)
    {
        showSplashCounter--;
        if(showSplashCounter == 0)
        {
            //TransitionToMainMenu
            //When ShowSplash completed change screen to MainMenu
            //Go to MainMenu with screen transition towards South
            application().gotoMainMenuScreenSlideTransitionSouth();
        }
    }
}

//Called when the screen transition ends
void SplashViewBase::afterTransition()
{
    //ShowSplash
    //When screen transition ends delay
    //Delay for 1500 ms (90 Ticks)
    showSplashCounter = SHOWSPLASH_DURATION;
}
